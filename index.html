<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Gestionnaire de Copropriétés - Propre Eco</title>

  <!-- PWA Configuration -->
  <link rel="icon" type="image/png" href="img/logo.png" />
  <link rel="apple-touch-icon" href="img/logo.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="img/logo.png" />
  <link rel="manifest" href="manifest.json">

  <!-- PWA Métadonnées -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Propre Eco">
  <meta name="theme-color" content="#10B981">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="format-detection" content="telephone=no">

  <!-- Scripts et styles -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">



  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/index-specific.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/modals.css">
  <link rel="stylesheet" href="css/navbar.css">
  <link rel="stylesheet" href="css/pwa-install.css">

</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <button class="hamburger-btn" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <a href="index.html" class="logo">
        <img src="img/logo.png" width="60px" alt="Logo Propre Eco">
        Propre Eco Assistant
      </a>

      <div class="header-spacer"></div>
    </div>
  </header>

  <div class="sidebar-overlay"></div>
  <nav class="sidebar-menu">
    <div class="sidebar-header">
      <img src="img/logo.png" width="50px" alt="Logo">
      <h3>Propre Eco</h3>
      <button class="sidebar-close" aria-label="Fermer">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="sidebar-content">
      <div class="menu-section">
        <span class="menu-section-title">Navigation</span>
        <ul class="sidebar-nav">
          <li class="active">
            <a href="index.html">
              <i class="fas fa-home"></i>
              <span>Accueil</span>
            </a>
          </li>
          <li>
            <a href="pages/signaler.html">
              <i class="fas fa-exclamation-triangle"></i>
              <span>Signaler</span>
            </a>
          </li>
          <li>
            <a href="pages/Feuilles.html">
              <i class="fas fa-file-alt"></i>
              <span>Feuilles</span>
            </a>
          </li>
          <li>
            <a href="pages/Specifique.html">
              <i class="fas fa-hard-hat"></i>
              <span>Specifique</span>
            </a>
          </li>
          <li>
            <a href="pages/pointeuse.html">
              <i class="fas fa-clock"></i>
              <span>Pointeuse</span>
            </a>
          </li>
          <li>
            <a href="pages/devis.html">
              <i class="fas fa-file-invoice"></i>
              <span>Devis</span>
            </a>
          </li>
          <li>
            <a href="pages/dashbord.html">
              <i class="fas fa-columns"></i>
              <span>Tableau de bord</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container">
    <!-- Header de bienvenue -->
    <!-- <div class="welcome-header">
      <h1>Gestionnaire de Copropriétés</h1>
      <p>Gérez vos bÃ¢timents et optimisez vos tournées</p>
    </div> -->

    <!-- Section Recherche -->
    <section class="section">
      <h2 class="section-title">
        <i class="fas fa-search"></i>
        Rechercher une copropriété
      </h2>

      <div class="search-container">
        <input type="text" class="search-input" id="searchInput" placeholder="Tapez le nom d'une copropriété...">
        <div class="search-results" id="searchResults"></div>
      </div>

      <div class="property-details" id="propertyDetails" style="display:none;">
        <div class="property-info" id="propertyInfo"></div>
        <div class="property-details-actions">
          <button class="btn" id="addToItinerary">
            <i class="fas fa-plus"></i>
            Ajouter à mon itinéraire
          </button>
          <button class="btn btn-info" id="showProcedureBtn" style="display:none;">
            <i class="fas fa-list-ul"></i>
            Voir la procédure
          </button>
        </div>
      </div>


    </section>

    <!-- Section Itinéraire -->
    <section class="section">
      <h2 class="section-title">
        <i class="fas fa-route"></i>
        Mon itinéraire du jour
      </h2>

      <!-- Status de géolocalisation -->
      <div class="geolocation-status loading" id="locationStatus">
        <i class="fas fa-spinner fa-spin"></i>
        Détection de votre position...
      </div>

      <div class="itinerary">
        <div class="itinerary-list" id="itineraryList">
          <div class="empty-state">
            <i class="fas fa-map-marked-alt"
              style="font-size: 2rem; margin-bottom: 1rem; display: block; color: var(--text-light);"></i>
            Aucune copropriété dans votre itinéraire pour aujourd'hui
          </div>
        </div>

        <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
          <button class="btn" id="optimizeItinerary">
            <i class="fas fa-external-link-alt"></i>
            Ouvrir dans Google Maps
          </button>
          <button class="btn btn-danger" id="clearItinerary">
            <i class="fas fa-trash-alt"></i>
            Vider l'itinéraire
          </button>
        </div>
      </div>
    </section>

    <!-- Section Liste complète -->
    <section class="section">
      <h2 class="section-title">
        <i class="fas fa-building"></i>
        Toutes mes copropriétés
      </h2>

      <div class="properties-list" id="propertiesList">
        <div class="empty-state">
          <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 1rem; display: block;"></i>
          Chargement des copropriétés...
        </div>
      </div>

      <div style="text-align: center; margin-top: 2rem;">
        <button class="btn btn-warning" id="showMoreBtn" style="display: none;">
          <i class="fas fa-chevron-down"></i>
          Afficher plus de copropriétés
        </button>
      </div>
    </section>
  </div>

  <!-- Modale pour les procédures -->
  <div id="procedureModal" class="modal">
    <div class="modal-content">
      <button class="close-btn">&times;</button>
      <h2 id="procedureTitle"></h2>
      <div class="procedure-content" id="procedureText"></div>
      <div class="procedure-footer">
        <i class="fas fa-star"></i>
        Merci pour votre travail, n'oubliez pas que chaque geste compte !
      </div>
    </div>
  </div>

  <footer class="app-footer">
    Developed with <span style="color: #ff6b6b;">❤️</span> by Ashborn
  </footer>




  <script type="module" src="js/index.js">

  </script>
  <script type="module" src="js/firebase-copro.js"></script>
  <script type="module" src="js/announcements.js"></script>
  <script type="module">
    import { initNavigation, setActiveNavItem } from './js/navbar.js';
    initNavigation();
    setActiveNavItem('index.html'); 
  </script>
  <script type="module" src="js/pwa-install.js"></script>

</body>

</html>